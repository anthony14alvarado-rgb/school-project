<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nexus OS | Commander Prime Elite</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.scaledrone.com/scaledrone.min.js"></script>
    <style>
        /* --- DENSITY LAYER 01: CORE SYSTEM VARIABLES --- */
        :root {
            --glass: rgba(255, 255, 255, 0.05);
            --glass-thick: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.12);
            --accent: #ff4d4d;
            --accent-glow: rgba(255, 77, 77, 0.4);
            --bg-dark: #050505;
            --transition-hq: all 0.6s cubic-bezier(0.16, 1, 0.3, 1);
            --shadow-heavy: 0 40px 100px rgba(0,0,0,0.8);
            --font-main: 'Inter', sans-serif;
            --font-mono: 'JetBrains Mono', monospace;
        }

        /* --- DENSITY LAYER 02: RESET & GLOBAL DYNAMICS --- */
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: var(--font-main); -webkit-font-smoothing: antialiased; }
        
        body {
            background: linear-gradient(rgba(0,0,0,0.92), rgba(0,0,0,0.92)), 
                        url('https://images.unsplash.com/photo-1462331940025-496dfbfc7564?q=80&w=2022&auto=format&fit=crop') no-repeat center center fixed;
            background-size: cover; color: white; height: 100vh; display: flex; overflow: hidden;
            animation: bootSequence 2s ease-in-out;
        }

        @keyframes bootSequence {
            0% { opacity: 0; filter: blur(30px) brightness(0); transform: scale(1.1); }
            50% { opacity: 0.5; filter: blur(15px) brightness(0.5); }
            100% { opacity: 1; filter: blur(0) brightness(1); transform: scale(1); }
        }

        /* --- DENSITY LAYER 03: NAVIGATION INTERFACE --- */
        nav {
            width: 230px; height: 100vh; display: flex; flex-direction: column; justify-content: center;
            align-items: flex-start; padding-left: 55px; gap: 45px; background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(60px); border-right: 1px solid var(--glass-border); z-index: 1000;
            box-shadow: 25px 0 100px rgba(0,0,0,0.95);
        }

        nav a {
            color: rgba(255, 255, 255, 0.2); text-decoration: none; font-size: 11px; font-weight: 900;
            text-transform: uppercase; letter-spacing: 5px; transition: var(--transition-hq); cursor: pointer;
            position: relative; overflow: hidden;
        }

        nav a:hover, nav a.active { color: var(--accent); text-shadow: 0 0 30px var(--accent); transform: translateX(18px); }
        
        nav a::after {
            content: ''; position: absolute; bottom: -5px; left: 0; width: 0%; height: 2px;
            background: var(--accent); transition: 0.4s;
        }
        nav a:hover::after { width: 100%; }

        nav a.active::before {
            content: ''; position: absolute; left: -35px; top: 50%; transform: translateY(-50%);
            width: 8px; height: 35px; background: var(--accent); border-radius: 4px; box-shadow: 0 0 25px var(--accent);
        }

        /* --- DENSITY LAYER 04: MAIN VIEWPORT --- */
        main { flex: 1; display: flex; justify-content: center; align-items: center; overflow-y: auto; padding: 100px; perspective: 2500px; }
        
        .center-group { 
            width: 100%; max-width: 1400px; display: none; flex-direction: column; 
            align-items: center; opacity: 0; transform: translateY(50px) rotateX(5deg);
            animation: sectorIn 1.2s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }
        
        .active-page { display: flex !important; }
        @keyframes sectorIn { to { opacity: 1; transform: translateY(0) rotateX(0deg); } }

        /* --- DENSITY LAYER 05: TYPOGRAPHY & SEARCH --- */
        .search-wrapper { width: 100%; max-width: 900px; margin-bottom: 80px; text-align: center; }
        .search-wrapper h1 { 
            font-size: 140px; font-weight: 950; letter-spacing: -12px; margin-bottom: 20px;
            background: linear-gradient(to bottom, #fff 40%, #222 100%);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 25px 50px rgba(0,0,0,0.95));
        }
        
        .status-badge { 
            font-size: 10px; letter-spacing: 14px; color: var(--accent); border: 2px solid var(--accent); 
            padding: 15px 40px; display: inline-block; margin-bottom: 50px; font-weight: 900;
            background: rgba(255, 77, 77, 0.05); text-transform: uppercase; animation: pulse 2s infinite;
        }

        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }

        .search-input {
            width: 100%; padding: 40px 70px; border-radius: 100px; border: 1px solid var(--glass-border);
            background: rgba(255, 255, 255, 0.02); backdrop-filter: blur(50px); color: white;
            font-size: 26px; outline: none; transition: var(--transition-hq); text-align: center;
            box-shadow: 0 40px 80px rgba(0,0,0,0.7);
        }
        .search-input:focus { border-color: var(--accent); transform: scale(1.03); background: rgba(255,255,255,0.05); box-shadow: 0 0 60px var(--accent-glow); }

        /* --- DENSITY LAYER 06: APP GRID --- */
        .app-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 50px; width: 100%; padding-bottom: 120px; }
        .app-card { 
            background: var(--glass); backdrop-filter: blur(40px); border: 1px solid var(--glass-border);
            border-radius: 60px; padding: 60px 40px; display: flex; flex-direction: column; align-items: center;
            cursor: pointer; transition: var(--transition-hq); box-shadow: 0 20px 40px rgba(0,0,0,0.4);
        }
        .app-card:hover { border-color: var(--accent); transform: translateY(-25px) scale(1.08); background: rgba(255,255,255,0.1); box-shadow: 0 50px 100px rgba(0,0,0,0.8); }
        .app-card img { width: 90px; margin-bottom: 30px; filter: drop-shadow(0 20px 30px #000); transition: 0.6s; }
        .app-card:hover img { transform: rotate(-15deg) scale(1.2); }
        .app-card span { font-size: 18px; font-weight: 900; letter-spacing: 3px; text-transform: uppercase; }

        /* --- DENSITY LAYER 07: LIVE CHAT PORTAL --- */
        .chat-portal {
            width: 100%; max-width: 1150px; height: 800px; background: rgba(2,2,2,0.98);
            border: 1px solid var(--glass-border); border-radius: 70px; display: flex; flex-direction: column;
            overflow: hidden; box-shadow: var(--shadow-heavy); position: relative;
        }

        #chatGate { 
            position: absolute; inset: 0; background: #000; z-index: 500; 
            display: flex; flex-direction: column; justify-content: center; align-items: center; gap: 40px; 
        }

        .chat-feed { flex: 1; padding: 60px; overflow-y: auto; display: flex; flex-direction: column; gap: 35px; scroll-behavior: smooth; }
        .msg-box { padding: 30px 45px; border-radius: 40px; max-width: 75%; font-size: 19px; line-height: 1.8; animation: msgSlide 0.6s var(--transition-hq); }
        @keyframes msgSlide { from { opacity: 0; transform: translateX(30px); } }

        .msg-me { align-self: flex-end; background: var(--accent); color: white; font-weight: 800; border-bottom-right-radius: 5px; box-shadow: 0 25px 50px var(--accent-glow); }
        .msg-them { align-self: flex-start; background: rgba(255,255,255,0.04); border: 1px solid var(--glass-border); border-bottom-left-radius: 5px; }
        
        .sys-notif { align-self: center; font-size: 10px; color: var(--accent); letter-spacing: 6px; text-transform: uppercase; background: rgba(255,77,77,0.12); padding: 12px 30px; border-radius: 100px; margin: 20px 0; font-weight: 900; box-shadow: 0 0 20px rgba(255,77,77,0.2); }

        .chat-dock { padding: 45px; background: rgba(255,255,255,0.01); display: flex; gap: 25px; border-top: 1px solid var(--glass-border); backdrop-filter: blur(20px); }
        .chat-input { flex: 1; background: rgba(255,255,255,0.02); border: 1px solid var(--glass-border); border-radius: 100px; padding: 25px 50px; color: white; font-size: 20px; outline: none; transition: 0.4s; }
        .chat-btn { background: var(--accent); border: none; padding: 0 55px; border-radius: 100px; color: white; font-weight: 900; cursor: pointer; transition: 0.5s; letter-spacing: 3px; }
        .chat-btn:hover { box-shadow: 0 0 50px var(--accent-glow); transform: scale(1.05); }

        /* --- DENSITY LAYER 08: DIAGNOSTICS --- */
        .diag-monitor { 
            width: 100%; max-width: 1100px; background: #000; border: 1px solid var(--accent); 
            border-radius: 40px; padding: 60px; font-family: var(--font-mono); 
            color: var(--accent); font-size: 15px; line-height: 2.2; height: 500px; overflow-y: auto; 
            text-shadow: 0 0 15px var(--accent); border-left: 12px solid var(--accent);
            box-shadow: inset 0 0 50px rgba(255,77,77,0.1);
        }

        /* --- DENSITY LAYER 09: UTILITY & OVERLAYS --- */
        #frameOverlay { position: fixed; inset: 0; background: #000; z-index: 10000; display: none; }
        .close-overlay { position: absolute; top: 40px; right: 40px; background: var(--accent); border: none; padding: 20px 40px; border-radius: 50px; color: white; font-weight: 900; cursor: pointer; }
    </style>
</head>
<body>

    <nav>
        <a onclick="navigate('home')" id="n-home" class="active">Nexus Bridge</a>
        <a onclick="navigate('comms')" id="n-comms">Global Comms</a>
        <a onclick="navigate('arcade')" id="n-arcade">Arcade Deck</a>
        <a onclick="navigate('diag')" id="n-diag">System Logs</a>
    </nav>

    <main>
        <div id="home" class="center-group active-page">
            <div class="search-wrapper">
                <h1>NEXUS</h1>
                <div class="status-badge">COMMANDER PRIME SESSION ACTIVE</div>
                <input type="text" class="search-input" placeholder="Search Worldwide Terminals..." onkeydown="if(event.key==='Enter') window.open('https://google.com/search?q='+this.value)">
            </div>
            <div class="app-grid">
                <div class="app-card" onclick="window.open('https://youtube.com')"><img src="https://cdn-icons-png.flaticon.com/512/1384/1384060.png"><span>Stream Deck</span></div>
                <div class="app-card" onclick="window.open('https://discord.com')"><img src="https://cdn-icons-png.flaticon.com/512/5968/5968756.png"><span>Discord Line</span></div>
                <div class="app-card" onclick="window.open('https://tiktok.com')"><img src="https://cdn-icons-png.flaticon.com/512/3046/3046121.png"><span>TikTok Feed</span></div>
                <div class="app-card" onclick="window.open('https://twitch.tv')"><img src="https://cdn-icons-png.flaticon.com/512/5968/5968819.png"><span>Twitch Live</span></div>
            </div>
        </div>

        <div id="comms" class="center-group">
            <div class="chat-portal">
                <div id="chatGate">
                    <h2 style="letter-spacing:15px; font-weight:950">AUTHENTICATION REQUIRED</h2>
                    <input type="text" id="userInput" class="search-input" style="max-width:450px" placeholder="Callsign Identification...">
                    <button class="chat-btn" style="height:80px; margin-top:30px" onclick="initBridge()">Engage Uplink</button>
                </div>
                <div class="chat-feed" id="chatFeed"></div>
                <div class="chat-dock">
                    <input type="text" id="chatInput" class="chat-input" placeholder="Broadcast transmission..." onkeydown="if(event.key==='Enter') transmit()">
                    <button class="chat-btn" onclick="transmit()">SEND</button>
                </div>
            </div>
        </div>

        <div id="arcade" class="center-group">
            <div class="app-grid">
                <div class="app-card" onclick="window.open('https://poki.com')"><span>Poki Hub</span></div>
                <div class="app-card" onclick="window.open('https://1v1.lol')"><span>Tactical 1v1</span></div>
                <div class="app-card" onclick="window.open('https://classic.minecraft.net')"><span>Minecraft Core</span></div>
                <div class="app-card" onclick="window.open('https://slope-game.github.io')"><span>Slope Logic</span></div>
            </div>
        </div>

        <div id="diag" class="center-group">
            <div class="diag-monitor" id="log">
                [SYSTEM]: Booting Build 500+ Integration...<br>
                [SYSTEM]: Archive 407 Codebase: STABLE.<br>
                [SYSTEM]: CSS Matrix Extension: LOADED.<br>
                [SYSTEM]: P2P Global Comms: CONNECTED.<br>
                [SYSTEM]: Security Protocol 480: ACTIVE.<br>
                [LOG]: Standing by for Commander input...
            </div>
        </div>
    </main>

    <script>
        /* --- DENSITY LAYER 10: JAVASCRIPT ENGINE --- */
        let drone, room, myName;
        const channelID = 'yiS12sYPLP793Q0A';

        function navigate(id) {
            document.querySelectorAll('.center-group').forEach(s => s.classList.remove('active-page'));
            document.querySelectorAll('nav a').forEach(a => a.classList.remove('active'));
            document.getElementById(id).classList.add('active-page');
            document.getElementById('n-'+id).classList.add('active');
            writeLog(`Sector Shift: ${id.toUpperCase()} ENGAGED.`);
        }

        function initBridge() {
            const ui = document.getElementById('userInput');
            if(!ui.value.trim()) return;
            myName = ui.value;
            document.getElementById('chatGate').style.display = 'none';
            
            drone = new ScaleDrone(channelID, { data: { name: myName } });
            drone.on('open', error => {
                room = drone.subscribe('observable-nexus-bridge');
                room.on('member_join', m => postAlert(`${m.authData.name} HAS JOINED THE BRIDGE`));
                room.on('member_leave', m => postAlert(`${m.authData.name} HAS SEVERED CONNECTION`));
                room.on('data', (d, m) => { if(m) postMsg(d, m.authData.name, m.id === drone.clientId); });
            });
            writeLog(`Identity Confirmed: ${myName}. Welcome to the Bridge.`);
        }

        function transmit() {
            const i = document.getElementById('chatInput');
            if(i.value.trim()) {
                drone.publish({room: 'observable-nexus-bridge', message: i.value});
                i.value = "";
            }
        }

        function postMsg(t, u, me) {
            const f = document.getElementById('chatFeed');
            const e = document.createElement('div');
            e.className = `msg-box ${me ? 'msg-me' : 'msg-them'}`;
            e.innerHTML = `<small style="font-size:11px; font-weight:900; opacity:0.6; letter-spacing:2px">${u}</small><br>${t}`;
            f.appendChild(e); f.scrollTop = f.scrollHeight;
        }

        function postAlert(t) {
            const f = document.getElementById('chatFeed');
            const e = document.createElement('div');
            e.className = "sys-notif"; e.innerText = t;
            f.appendChild(e); f.scrollTop = f.scrollHeight;
        }

        function writeLog(txt) {
            const l = document.getElementById('log');
            const time = new Date().toLocaleTimeString();
            l.innerHTML += `<br>[${time}] DISPATCH: ${txt}`;
            l.scrollTop = l.scrollHeight;
        }

        window.onkeydown = (e) => {
            if(e.key === '~') window.location.href="https://google.com";
            if(e.ctrlKey && e.key === 'q') navigate('diag');
        };

        // Extra Density Logic (Recursive Stability)
        setInterval(() => {
            const logs = ["Syncing P2P Nodes...", "Checking Encryption...", "Commander Uplink Stable."];
            writeLog(logs[Math.floor(Math.random()*logs.length)]);
        }, 15000);
    </script>
</body>
</html>
